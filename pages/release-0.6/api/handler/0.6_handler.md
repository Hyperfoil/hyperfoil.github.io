---
title: HTTP Response Handler
sidebar: 06_sidebar
permalink: 0.6_handler.html
folder: release-0.6/api/handler
---

## handler

Manages processing of HTTP responses. 

| Property | Type | Description |
| ------- | ------- | ------- |
| body | [Processor.Builder](0.6_handler_api.html#processors) | Handle HTTP response body.  |
| header | [HeaderHandler.Builder](#handlerheader) | Handle HTTP response headers.  |
| onCompletion | [Action.Builder](0.6_handler_api.html#actions) | Action executed when the HTTP response is fully received.  |
| rawBytes | [RawBytesHandler.Builder](#handlerrawbytes) | Handler processing HTTP response before parsing.  |
| status | [StatusHandler.Builder](#handlerstatus) | Handle HTTP response status.  |

## handler.header

Handle HTTP response headers. 

| Property | Type | Description |
| ------- | ------- | ------- |
| countHeaders | CountHeadersHandler.Builder | Stores number of occurences of each header in custom statistics (these can be displayed in CLI using the <code>stats -c</code> command).  |
| filter | [FilterHeaderHandler.Builder](#handlerheaderfilter) | Compares if the header name matches expression and invokes a processor with the value.  |
| logInvalid | LogInvalidHandler.HeaderHandlerBuilder | Logs headers from requests marked as invalid.  |
| recordHeaderTime | [RecordHeaderTimeHandler.Builder](#handlerheaderrecordheadertime) | Records alternative metric based on values from a header (e.g. when a proxy reports processing time).  |

## handler.header.filter

Compares if the header name matches expression and invokes a processor with the value. 

| Property | Type | Description |
| ------- | ------- | ------- |
| header | [Builder](#handlerheaderfilterheader) | Condition on the header name.  |
| processor | [Processor.Builder](0.6_handler_api.html#processors) | Processor that will be invoked with the value (converted to ByteBuf).  |

## handler.header.filter.header


| Inline definition |
| -------- |
| String that should be matched. |

| Property | Type | Description |
| ------- | ------- | ------- |
| caseSensitive | boolean | True if the case must match, false if the check is case-insensitive.  |
| endsWith | CharSequence | Suffix for the string.  |
| matchVar | String | Fetch the value from a variable.  |
| startsWith | CharSequence | Prefix for the string.  |
| value | CharSequence | Literal value the condition should match.  |

## handler.header.recordHeaderTime

Records alternative metric based on values from a header (e.g. when a proxy reports processing time). 

| Property | Description |
| ------- | -------- |
| header | Header carrying the time.  |
| metric | Name of the created metric.  |
| unit | Time unit in the header; use either `ms` or `ns`.  |

## handler.rawBytes

Handler processing HTTP response before parsing. 

| Property | Type | Description |
| ------- | ------- | ------- |
| responseSizeRecorder | [ResponseSizeRecorder.Builder](#handlerrawbytesresponsesizerecorder) | Accumulates response sizes into custom metric.  |

## handler.rawBytes.responseSizeRecorder

Accumulates response sizes into custom metric. 


| Inline definition |
| -------- |
| Name of the custom metric. |

| Property | Type | Description |
| ------- | ------- | ------- |
| customMetric | String | Name of the custom metric.  |

## handler.status

Handle HTTP response status. 

| Property | Type | Description |
| ------- | ------- | ------- |
| counter | [StatusToCounterHandler.Builder](#handlerstatuscounter) | Counts how many times given status is received.  |
| range | [RangeStatusValidator.Builder](#handlerstatusrange) | Marks requests that don't fall into the desired range as invalid.  |

## handler.status.counter

Counts how many times given status is received. 

| Property | Type | Description |
| ------- | ------- | ------- |
| add | int | Number to be added to the session variable.  |
| expectStatus | int | Expected status (others are ignored). All status codes match by default.  |
| init | int | Initial value for the session variable.  |
| set | int | Do not accumulate (add), just set the variable to this value.  |
| var | String | Variable name.  |

## handler.status.range

Marks requests that don't fall into the desired range as invalid. 


| Inline definition |
| -------- |
| Single status code (<code>204</code>), masked code (<code>2xx</code>) or range (<code>200-399</code>). |

| Property | Type | Description |
| ------- | ------- | ------- |
| max | int | Highest accepted status code.  |
| min | int | Lowest accepted status code.  |
